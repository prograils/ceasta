!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/ceasta.js")}({"./src/ceasta.js":
/*!***********************!*\
  !*** ./src/ceasta.js ***!
  \***********************/
/*! no static exports found */function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}Object.defineProperty(t,"__esModule",{value:!0}),t.Ceasta=void 0;var s=function(){function e(t,n,i){r(this,e),null==n&&(n="Test"),null==i&&(i="Lorem"),this.$container=t,this.placeholder=n,this.highlight=i,this.value=this.$container.val(),this.placeholderDisplay=!1,this.init()}return o(e,[{key:"init",value:function(){this.setPlaceholder(),this.inputEvent(this,this.$container,this.highlight),this.focusEvents(this,this.$container,this.placeholder)}},{key:"inputEvent",value:function(e,t,n){t.on("keyup",function(r){e.onInputText(r,e,t,n)})}},{key:"onInputText",value:function(e,t,n,r){var i="\\b(".concat(r,"\\w*)");13!==e.which&&t.val()!=n.text()&&(t.selection=new c(n.get(0)),t.selection.saveCurrentSelection(),t.adjustText(t,n,i),t.selection.restoreSelection())}},{key:"adjustText",value:function(e,t,n){t.html(t.html().replace(/<b>|<\/b>/g,"")),t.html(t.html().replace(new RegExp(n,"g"),"<b>$1</b>")),e.value=t.text()}},{key:"focusEvents",value:function(e,t,n){e.$container.on("focusin",function(t){return e.cleanPlaceholder()}),e.$container.on("focusout",function(t){$(this).text()||e.setPlaceholder()})}},{key:"val",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===e?this.value:(this.$container.text(e),this.value=e)}},{key:"setPlaceholder",value:function(){this.placeholderDisplay||(this.$container.text(this.placeholder),this.placeholderDisplay=!0)}},{key:"cleanPlaceholder",value:function(){this.placeholderDisplay&&(this.$container.text(""),this.placeholderDisplay=!1)}}]),e}();t.Ceasta=s;var c=function(){function e(t){r(this,e),this.$container=t}return o(e,[{key:"getSelection",value:function(){return window.getSelection?window.getSelection().getRangeAt(0):document.selection?document.selection.createRange():void 0}},{key:"sumCurrentOffset",value:function(e,t,n){for(var r=Array.from(Array.from(e.childNodes)),i=0;i<r.length;i++){var o=r[i];if(t===o)break;if(o!==t&&o.contains(t)){n+=this.sumCurrentOffset(o,t,0);break}t!==o&&(console.log(o.textContent),n+=o.textContent.length)}return n}},{key:"findNodeForPosition",value:function(e,t){var n,r=this.findNode(e.childNodes,t);return n=r.node,t=r.currentOffset,0===n.childNodes.length?{node:n,currentOffset:t}:this.findNodeForPosition(n,t)}},{key:"findNode",value:function(e,t){for(var n=Array.from(e),r=0;r<n.length;r++){var i=n[r];if(t-i.textContent.length<=0)return{node:i,currentOffset:t};t-=i.textContent.length}}},{key:"saveCurrentSelection",value:function(){this.currentSelection=this.getSelection(),this.startOffset=this.currentSelection.startOffset,this.currentOffset=this.sumCurrentOffset(this.$container,this.currentSelection.startContainer,this.startOffset),console.log(this.currentOffset)}},{key:"restoreSelection",value:function(){var e;if(0!==this.currentOffset){var t=document.createRange(),n=this.findNodeForPosition(this.$container,this.currentOffset);e=n.node,this.currentOffset=n.currentOffset,t.setStart(e,this.currentOffset),t.collapse(!0);var r=window.getSelection();console.log(r),r.removeAllRanges(),r.addRange(t)}}}]),e}()}});
//# sourceMappingURL=bundle.min.js.map